record:
  properties:
    metadata:
      properties:
        title:
          type: fulltext
        status:
          type: keyword
  module:
    qualified: thesis
  permissions:
    presets: ['community']

  use:
    - invenio
  requests:
    community-submission:
      type:
        base-classes:
          - CommunitySubmissionRequestType
        imports:
          - import: oarepo_communities.requests.submission.CommunitySubmissionRequestType
    community-migration:
      type:
        base-classes:
          - CommunityMigrationRequestType
        imports:
          - import: oarepo_communities.requests.migration.CommunityMigrationRequestType
    delete-record:
      type:
        base-classes:
          - CommunityDeleteRecordRequestType
        imports:
          - import: oarepo_communities.requests.community_delete.CommunityDeleteRecordRequestType
    remove-secondary:
      type:
        base-classes:
          - RemoveSecondaryRequestType
        imports:
          - import: oarepo_communities.requests.remove_secondary.RemoveSecondaryRequestType

  draft:
    requests:
      community-submission:
        type:
          base-classes:
            - CommunitySubmissionRequestType
          imports:
            - import: oarepo_communities.requests.submission.CommunitySubmissionRequestType
      community-migration:
        type:
          base-classes:
            - CommunityMigrationRequestType
          imports:
            - import: oarepo_communities.requests.migration.CommunityMigrationRequestType
      publish-draft:
        type:
          base-classes:
            - CommunityPublishDraftRequestType
          imports:
            - import: oarepo_communities.requests.community_publish.CommunityPublishDraftRequestType
      remove-secondary:
        type:
          base-classes:
            - RemoveSecondaryRequestType
          imports:
            - import: oarepo_communities.requests.remove_secondary.RemoveSecondaryRequestType

  record-communities:
    permissions:
      presets: [ "community", "record-communities-community" ]

  community-records:
    permissions:
      presets: [ "community", "community-records-community" ]



profiles:
  - record
  - draft
  - record_communities
  - community_records


settings:
  schema-server: 'local://'
